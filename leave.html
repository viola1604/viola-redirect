<script>
  const BEACONS = "https://violamorreli.com?src=tiktok_interstitial";

  const ua = navigator.userAgent.toLowerCase();
  const isTikTok = ua.includes("tiktok") || ua.includes("musical.ly");
  const isAndroid = ua.includes("android");
  const isIOS = /iphone|ipad|ipod/.test(ua);

  // ðŸ‘‡ NEU: stabilerer Android-Flow mit Fallback-URL
  document.getElementById("openAndroid").onclick = (e) => {
    e.preventDefault();
    if (isAndroid) {
      const u = new URL(BEACONS);
      const proto = u.protocol.replace(":", ""); // https
      const path  = u.pathname + (u.search || "") + (u.hash || "");
      // Intent mit Fallback direkt auf deine Beacons-URL
      const intentUrl =
        `intent://${u.host}${path}` +
        `#Intent;scheme=${proto};package=com.android.chrome;` +
        `S.browser_fallback_url=${encodeURIComponent(BEACONS)};end`;

      // 1) Intent â†’ sollte Chrome Ã¶ffnen
      window.location.href = intentUrl;

      // 2) Falls Intent blockiert â†’ nach kurzer Zeit normal Ã¶ffnen
      setTimeout(() => {
        window.location.href = BEACONS;
      }, 1200);
    } else {
      window.location.href = BEACONS;
    }
  };

  // iOS bleibt gleich:
  document.getElementById("openSafari").onclick = (e) => {
    e.preventDefault();
    if (isIOS && isTikTok) {
      alert('In TikTok: oben rechts â€¢â€¢â€¢ â†’ â€žOpen in Safariâ€œ. Danach erneut tippen.');
    }
    window.location.href = BEACONS;
  };

  // Copy bleibt wie gehabt â€¦
</script>
